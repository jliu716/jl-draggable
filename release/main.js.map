{"version":3,"sources":["./src/environments/environment.ts","./src/app/draggable/draggable.component.html","./src/app/draggable/draggable.component.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","<div\n  class=\"draggable\"\n  [style.width.px]=\"width\"\n  [style.height.px]=\"height\"\n  [style.background]=\"color\"\n  [style.transform]=\"transform\"\n  (mousedown)=\"onMouseDown($event)\"\n  (window:mouseup)=\"onMouseUp()\"\n>\n  <span *ngIf=\"DEBUG\">{{ DEBUG_X() }}, {{ DEBUG_Y() }}</span>\n</div>\n","import {\n  Component,\n  HostListener,\n  Input,\n  OnChanges,\n  SimpleChanges,\n} from \"@angular/core\";\n\n@Component({\n  selector: \"jl-draggable\",\n  templateUrl: \"./draggable.component.html\",\n  styleUrls: [\"./draggable.component.less\"],\n})\nexport class DraggableComponent implements OnChanges {\n  // debug properties\n  @Input() DEBUG: boolean = true;\n  DEBUG_Y = () => Math.round(this.top);\n  DEBUG_X = () => Math.round(this.left);\n\n  // box properties\n  @Input(\"width\") width: number = 50;\n  @Input(\"height\") height: number = 50;\n  @Input(\"left\") left: number = 0;\n  @Input(\"top\") top: number = 0;\n  @Input(\"color\") color: string = \"\";\n  private borderWidth: number = 2;\n\n  // parent properties\n  @Input() containerWidth: number = 400;\n  @Input() containerHeight: number = 400;\n\n  private mouse!: { x: number; y: number };\n  private pointOfClick!: { x0: number; y0: number; x1: number; y1: number };\n  public isMoving: boolean = false;\n\n  get transform() {\n    return \"translate3d(\" + this.left + \"px,\" + this.top + \"px,\" + \"0px)\";\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // move box if container has shrinked too much\n    if (changes.containerWidth || changes.containerHeight) {\n      const isOutside =\n        this.left + this.width > this.containerWidth ||\n        this.top + this.height > this.containerHeight;\n      if (isOutside) this.move();\n    }\n  }\n\n  onMouseDown(event: MouseEvent) {\n    this.isMoving = true;\n    this.pointOfClick = {\n      x0: this.left,\n      x1: event.clientX,\n      y0: this.top,\n      y1: event.clientY,\n    };\n  }\n\n  onMouseUp() {\n    this.isMoving = false;\n  }\n\n  @HostListener(\"window:mousemove\", [\"$event\"])\n  onMouseMove(event: MouseEvent) {\n    this.mouse = { x: event.clientX, y: event.clientY };\n    if (this.isMoving) {\n      this.move();\n    }\n  }\n\n  // calculate new position\n  private move() {\n    // top should between 0 and (boxHeight - myHeight)\n    let top = this.pointOfClick.y0 + (this.mouse.y - this.pointOfClick.y1);\n    top = Math.min(this.containerHeight - this.height - this.borderWidth, top);\n    this.top = Math.max(0 - this.borderWidth, top);\n\n    // left should between 0 and (boxWidth - myWidth)\n    let left = this.pointOfClick.x0 + (this.mouse.x - this.pointOfClick.x1);\n    left = Math.min(this.containerWidth - this.width - this.borderWidth, left);\n    this.left = Math.max(0 - this.borderWidth, left);\n  }\n}\n","<button (click)=\"toggleDebug()\">DEBUG</button>\n<div class=\"container\" #container>\n  <span *ngIf=\"DEBUG && containerLoaded\" class=\"debug-label\">\n    box size = {{ boxWidth }} x {{ boxHeight }};\n  </span>\n  <jl-draggable\n    *ngIf=\"containerLoaded\"\n    [DEBUG]=\"DEBUG\"\n    [containerHeight]=\"boxHeight\"\n    [containerWidth]=\"boxWidth\"\n    [width]=\"100\"\n    [height]=\"100\"\n    [top]=\"100\"\n    [left]=\"100\"\n    color=\"yellow\"\n  ></jl-draggable>\n</div>\n","import { Component, ElementRef, ViewChild } from \"@angular/core\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.less\"],\n})\nexport class AppComponent {\n  @ViewChild(\"container\") container?: ElementRef;\n  containerLoaded: boolean = false;\n\n  DEBUG: boolean = false;\n\n  get boxWidth() {\n    return this.container?.nativeElement.clientWidth;\n  }\n\n  get boxHeight() {\n    return this.container?.nativeElement.clientHeight;\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      if (this.container !== undefined) {\n        this.containerLoaded = true;\n      }\n    });\n  }\n\n  toggleDebug() {\n    this.DEBUG = !this.DEBUG;\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\n\nimport { AppComponent } from \"./app.component\";\nimport { DraggableComponent } from \"./draggable/draggable.component\";\n\n@NgModule({\n  declarations: [AppComponent, DraggableComponent],\n  imports: [BrowserModule],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { enableProdMode } from \"@angular/core\";\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\n\nimport { AppModule } from \"./app/app.module\";\nimport { environment } from \"./environments/environment\";\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}